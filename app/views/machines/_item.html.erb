                <td>
                  <%=machine.name %>
                </td>
                <td>
                  <%=machine.host %>
                </td>
                <td>
                  <%=machine.user %>
                </td>
                <td>
                  <%=machine.port %>
                </td>
                <td>
                  <div class="btn-group">
                    <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                      <%=machine.env %>
                      <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                      <% current_app.envs.each do |env| %>
                        <li><%=link_to(
                          env.name,
                          change_env_machine_path(machine.id,:env_id => env.id), 
                          :remote => true,
                          :method => :put
                        )%></li>
                      <% end %>
                    </ul>
                  </div>
                </td>
                <td>
                  <div class="btn-group">
                    <% machine_actions(machine).each do |link| %>
                      <button class="btn"><%=link %></button>
                    <% end %>
                  </div>
                </td>
                <td>
                  <%= form_for :simple_form, 
                    :method => :put, :remote => true,
                    :url => change_app_machine_path(machine),
                    :html => {class:'form-search'} do |f| %>
                    <div class="pull-right">
                      <input name="name" type='text' 
                        class="input-medium"
                        data-provide="typeahead" 
                        data-link="/search/app_by_name" 
                        autocomplete="off"
                        placeholder="填入要分配的应用名" />
                      <%=f.submit '更改应用', class: 'btn' %>
                    </div>
                  <% end %>
                </td>
                <td>
                  <% if machine.locked? %>
                    <strong>手工维护，禁止同步
                      <%=link_to '取消', unlock_machine_path(machine), remote: true, method: :put %>
                    </strong>
                  <% end %>
                  &nbsp;
                </td>

